(function(_0xf3efa,_0x5d09a5){const _0x3a3867={_0x533bc8:0x3df,_0x6f5c50:0x3da,_0x4ca236:0x16,_0x3bb973:0x2a,_0x1b3ef6:0x3c6,_0x5917bc:0x3d1,_0x53ed8f:0x3be,_0x503a50:0x3cc,_0x1261c3:0x3e5,_0x1e9ac9:0x30,_0xd2c74b:0x28,_0x35d4b0:0x3e9,_0x29a534:0x3db,_0x16a2ef:0x3e3,_0x5bb4e1:0x3e0,_0x3eb2a6:0x21,_0x416cf4:0x26,_0x133d24:0x1d,_0x36dba8:0x10,_0x5153e6:0x3e5,_0x3c29a4:0x3de,_0xf35789:0x3c3,_0x5638ed:0x3d2,_0x29048d:0x3d6,_0x18ce8a:0x3cf,_0x1a4d0e:0x25,_0x38a5e0:0x1a,_0x156588:0x22,_0x5ee77f:0x29,_0x4b9aff:0x2c,_0x249d8d:0x31,_0x425e48:0x3de,_0x31ce46:0x3d5,_0x2d2c41:0x3c8},_0x535eed={_0x56d5bf:0x242},_0x287d5a={_0x21bd69:0x16b};function _0x323366(_0x266eb3,_0x3d5dc8,_0x1fb2a3,_0x5ca513){return _0x53c1(_0x1fb2a3- -_0x287d5a._0x21bd69,_0x3d5dc8);}function _0x244d7a(_0x415954,_0xf4cd2e,_0xfc3f6e,_0x3a9f99){return _0x53c1(_0x3a9f99-_0x535eed._0x56d5bf,_0xfc3f6e);}const _0x403c67=_0xf3efa();while(!![]){try{const _0x4fe658=-parseInt(_0x244d7a(0x3d2,_0x3a3867._0x533bc8,_0x3a3867._0x6f5c50,0x3da))/(0xd9*0x3+0x1*-0x175a+0x14d0)*(-parseInt(_0x323366(_0x3a3867._0x4ca236,0x2c,0x21,_0x3a3867._0x3bb973))/(-0x8*-0x2ca+0x14bc+0x313*-0xe))+parseInt(_0x244d7a(_0x3a3867._0x1b3ef6,_0x3a3867._0x5917bc,_0x3a3867._0x53ed8f,_0x3a3867._0x503a50))/(-0x1f2a+-0x1*0x3dd+0x230a)*(parseInt(_0x244d7a(_0x3a3867._0x1261c3,0x3d6,0x3d2,0x3d7))/(0x248*-0x11+0x2303+-0x39*-0x11))+parseInt(_0x323366(_0x3a3867._0x3bb973,0x25,_0x3a3867._0x1e9ac9,_0x3a3867._0xd2c74b))/(-0x32b*-0x5+-0x24f3+0x1521)*(parseInt(_0x244d7a(_0x3a3867._0x35d4b0,_0x3a3867._0x29a534,_0x3a3867._0x16a2ef,_0x3a3867._0x5bb4e1))/(-0x164*-0x8+-0x3f9*0x4+0x4ca))+parseInt(_0x323366(_0x3a3867._0x3eb2a6,_0x3a3867._0x416cf4,_0x3a3867._0x133d24,_0x3a3867._0x36dba8))/(0x4eb*0x4+0x94*0x1a+-0x22ad)+-parseInt(_0x244d7a(0x3e3,0x3db,_0x3a3867._0x5153e6,_0x3a3867._0x3c29a4))/(-0x2*-0x116c+-0x1ee9*0x1+-0x25*0x1b)*(parseInt(_0x244d7a(_0x3a3867._0xf35789,_0x3a3867._0x5638ed,_0x3a3867._0x29048d,_0x3a3867._0x18ce8a))/(0xc6+0x205e*0x1+-0x211b))+-parseInt(_0x323366(_0x3a3867._0x1a4d0e,0x1e,_0x3a3867._0x416cf4,_0x3a3867._0x38a5e0))/(-0x7b9+-0x20b6+0x2879)*(-parseInt(_0x323366(_0x3a3867._0x156588,_0x3a3867._0x5ee77f,_0x3a3867._0x4b9aff,_0x3a3867._0x249d8d))/(0x711*-0x2+0x8ad*-0x2+0x1f87*0x1))+-parseInt(_0x244d7a(_0x3a3867._0x425e48,_0x3a3867._0x31ce46,_0x3a3867._0x2d2c41,_0x3a3867._0x31ce46))/(-0x3a5*0xa+-0x1ad8+0x3f56);if(_0x4fe658===_0x5d09a5)break;else _0x403c67['push'](_0x403c67['shift']());}catch(_0x171326){_0x403c67['push'](_0x403c67['shift']());}}}(_0x1160,0x6f279+0x65a11+-0xeb6f*0x8));const _0x1988a6=(function(){const _0x444583={_0xf28440:0x1fd,_0xe69002:0x206,_0x4de038:0x53c,_0x3fe97a:0x53f,_0x406d65:0x210,_0x2563ae:0x215},_0x2d15b1={_0x7996f7:0x413,_0x2dca64:0x410,_0x2b5d0d:0x421,_0x3cda9a:0x412,_0x349cb8:0x11a,_0xc63dc:0x115,_0x5a44b9:0x114},_0xf4c8bd={_0x2240b5:0x3be},_0x3b04f7={_0x76ec43:0x7d},_0x4db256={};_0x4db256['MyuSM']=_0x72f3cc(_0x444583._0xf28440,0x1fc,_0x444583._0xe69002,0x209);function _0x72f3cc(_0x1c4721,_0x2236c7,_0x45ce02,_0x52b546){return _0x53c1(_0x45ce02-_0x3b04f7._0x76ec43,_0x52b546);}_0x4db256[_0x17798e(0x544,_0x444583._0x4de038,0x548,_0x444583._0x3fe97a)]=_0x72f3cc(_0x444583._0x406d65,_0x444583._0x2563ae,0x21a,0x215);function _0x17798e(_0x45660e,_0x52d212,_0x392362,_0x1a5e13){return _0x53c1(_0x45660e-_0xf4c8bd._0x2240b5,_0x392362);}const _0x36f3ec=_0x4db256;let _0x511739=!![];return function(_0x1604bb,_0x17883c){const _0x3f9924={_0x1d76d7:0x285},_0xa29378={_0x511d8f:0x6c},_0x3d75bf=_0x511739?function(){function _0x18b6e3(_0x34aa43,_0x1e48a7,_0x1ef356,_0x5e496a){return _0x53c1(_0x1e48a7- -_0xa29378._0x511d8f,_0x1ef356);}function _0x1577cc(_0x544aa4,_0x26f9e0,_0x4e1f53,_0x44e3d1){return _0x53c1(_0x544aa4-_0x3f9924._0x1d76d7,_0x26f9e0);}if(_0x36f3ec[_0x1577cc(_0x2d15b1._0x7996f7,_0x2d15b1._0x2dca64,_0x2d15b1._0x2b5d0d,_0x2d15b1._0x3cda9a)]===_0x36f3ec[_0x18b6e3(0x124,_0x2d15b1._0x349cb8,_0x2d15b1._0xc63dc,_0x2d15b1._0x5a44b9)])_0x463d3f(_0x3791f8);else{if(_0x17883c){const _0x4a940f=_0x17883c['apply'](_0x1604bb,arguments);return _0x17883c=null,_0x4a940f;}}}:function(){};return _0x511739=![],_0x3d75bf;};}()),_0x5529db=_0x1988a6(this,function(){const _0x4c3e4b={_0x2dd583:0xe,_0x1d8e10:0x11,_0x38a79f:0x1d2,_0x31007f:0x1d3,_0x21c167:0x1d5,_0x1c589a:0x3,_0x56ad66:0x1,_0x4500fe:0xe,_0x390fc6:0x17,_0x3a3817:0x4,_0x115058:0x7,_0x57a4bb:0x1b8,_0x5350aa:0x1c1,_0x3af237:0x1ce,_0x38b3ae:0x2,_0x4a2b75:0x9,_0x5dcc3c:0x12,_0x3ddacf:0x1b,_0x2c6aef:0xc,_0x5d737d:0x20,_0x277a67:0x1db,_0x290ee0:0x1cc,_0x5c6c29:0x1cf,_0x534ed7:0x1c9},_0x281a1c={_0x2c3a3a:0x19c},_0x1236c3={_0x255164:0x35a},_0x5498dd={};function _0x2a29e1(_0x40e5f1,_0x437fa9,_0x269c00,_0x4f39ea){return _0x53c1(_0x269c00- -_0x1236c3._0x255164,_0x40e5f1);}_0x5498dd[_0x5822c1(-0x12,-_0x4c3e4b._0x2dd583,-_0x4c3e4b._0x1d8e10,-0x12)]=_0x2a29e1(-_0x4c3e4b._0x38a79f,-_0x4c3e4b._0x31007f,-0x1ca,-_0x4c3e4b._0x21c167)+'+$';const _0x557fd6=_0x5498dd;function _0x5822c1(_0x73f600,_0x54c2f3,_0x2e7798,_0x26d74b){return _0x53c1(_0x2e7798- -_0x281a1c._0x2c3a3a,_0x26d74b);}return _0x5529db[_0x5822c1(0xb,0x5,-_0x4c3e4b._0x1c589a,_0x4c3e4b._0x56ad66)]()[_0x5822c1(-_0x4c3e4b._0x4500fe,-0x12,-_0x4c3e4b._0x390fc6,-0x12)](_0x557fd6[_0x5822c1(-_0x4c3e4b._0x3a3817,-_0x4c3e4b._0x115058,-0x11,-0x5)])[_0x2a29e1(-_0x4c3e4b._0x57a4bb,-_0x4c3e4b._0x5350aa,-0x1c1,-_0x4c3e4b._0x3af237)]()[_0x5822c1(-_0x4c3e4b._0x38b3ae,-_0x4c3e4b._0x4a2b75,-0xd,-_0x4c3e4b._0x5dcc3c)+'r'](_0x5529db)[_0x5822c1(-_0x4c3e4b._0x3ddacf,-_0x4c3e4b._0x2c6aef,-0x17,-_0x4c3e4b._0x5d737d)](_0x557fd6[_0x2a29e1(-_0x4c3e4b._0x277a67,-_0x4c3e4b._0x290ee0,-_0x4c3e4b._0x5c6c29,-_0x4c3e4b._0x534ed7)]);});_0x5529db();function _0x4c6615(_0x2137fb,_0x2884e3,_0x4fddc9,_0x35c3d8){const _0x15d432={_0x231cb8:0x72};return _0x53c1(_0x2884e3-_0x15d432._0x231cb8,_0x4fddc9);}const axios=require(_0x4c6615(0x1f9,0x206,0x212,0x206)),https=require('https'),SteamTotp=require('steam-totp'),xbsteam=require(_0x4c6615(0x207,0x204,0x210,0x1fe)),_0x4b1b8b={};_0x4b1b8b[_0x133308(-0x245,-0x23a,-0x251,-0x250)+_0x133308(-0x22d,-0x224,-0x225,-0x21f)]=![];function _0x53c1(_0x3412af,_0x56742c){const _0x10fcd2=_0x1160();return _0x53c1=function(_0x1530c6,_0x2f6d18){_0x1530c6=_0x1530c6-(0x1d07+-0x1*0x2e3+-0x189f);let _0x1d0693=_0x10fcd2[_0x1530c6];if(_0x53c1['HKVQNE']===undefined){var _0x104f5b=function(_0x11e8ab){const _0x24fa10='abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=';let _0x461645='',_0x20247a='',_0xd23d72=_0x461645+_0x104f5b;for(let _0x1ad954=0x1d8d+-0x1*-0x443+-0x43a*0x8,_0x384e52,_0x16bbb6,_0x138260=-0x3*0xbe4+-0x6e2+0x2a8e;_0x16bbb6=_0x11e8ab['charAt'](_0x138260++);~_0x16bbb6&&(_0x384e52=_0x1ad954%(-0x1d8d+0x671+0x1720)?_0x384e52*(-0xfdc+-0x82f+0x2b3*0x9)+_0x16bbb6:_0x16bbb6,_0x1ad954++%(0x1205*-0x1+-0x1403+-0x4*-0x983))?_0x461645+=_0xd23d72['charCodeAt'](_0x138260+(-0x1*-0x12c5+-0x1*-0x11ab+-0x2466))-(-0xa69+0x1*0x1abc+-0x1049)!==-0x68*0x1f+-0x8b9+0x1551?String['fromCharCode'](-0xc8d+-0x18a6+0x2632&_0x384e52>>(-(0x2060+-0x3f+-0x201f)*_0x1ad954&-0x1*-0x144d+0xe*0x29+0x1*-0x1685)):_0x1ad954:0x1aa7*0x1+-0x132d*0x2+0xbb3){_0x16bbb6=_0x24fa10['indexOf'](_0x16bbb6);}for(let _0x5e72ab=0x1*-0x749+-0x20a*-0x5+-0x2e9*0x1,_0x2fdc6a=_0x461645['length'];_0x5e72ab<_0x2fdc6a;_0x5e72ab++){_0x20247a+='%'+('00'+_0x461645['charCodeAt'](_0x5e72ab)['toString'](-0x3b5*-0x3+-0x7*0xf2+-0x471))['slice'](-(-0x1712+0x6c3+0x1051));}return decodeURIComponent(_0x20247a);};_0x53c1['JgkMaK']=_0x104f5b,_0x3412af=arguments,_0x53c1['HKVQNE']=!![];}const _0x51debd=_0x10fcd2[-0x2*0x7c1+-0x1099+-0x1*-0x201b],_0x268124=_0x1530c6+_0x51debd,_0x413954=_0x3412af[_0x268124];if(!_0x413954){const _0x24a4d5=function(_0x56c400){this['yGmnRF']=_0x56c400,this['CHvQqN']=[-0x1755+-0x3b5+0x1b0b,-0x1d98+-0xf57+0x2cef*0x1,0x14b3+-0x187f+0x3cc],this['fkcyBS']=function(){return'newState';},this['hJXWoR']='\x5cw+\x20*\x5c(\x5c)\x20*{\x5cw+\x20*',this['gmNZrt']='[\x27|\x22].+[\x27|\x22];?\x20*}';};_0x24a4d5['prototype']['RjHlhB']=function(){const _0x205a3a=new RegExp(this['hJXWoR']+this['gmNZrt']),_0x5b654a=_0x205a3a['test'](this['fkcyBS']['toString']())?--this['CHvQqN'][-0x681*-0x1+0x1*-0xcec+0x66c]:--this['CHvQqN'][0x1312+0x9b5*-0x1+0x1*-0x95d];return this['xTlBGS'](_0x5b654a);},_0x24a4d5['prototype']['xTlBGS']=function(_0x5adf06){if(!Boolean(~_0x5adf06))return _0x5adf06;return this['issXBX'](this['yGmnRF']);},_0x24a4d5['prototype']['issXBX']=function(_0x232e0b){for(let _0xd9afca=-0x16c+-0x269*0x1+0x3d5,_0x12a1b7=this['CHvQqN']['length'];_0xd9afca<_0x12a1b7;_0xd9afca++){this['CHvQqN']['push'](Math['round'](Math['random']())),_0x12a1b7=this['CHvQqN']['length'];}return _0x232e0b(this['CHvQqN'][-0x2*0xb15+-0x2*-0xafb+0x34]);},new _0x24a4d5(_0x53c1)['RjHlhB'](),_0x1d0693=_0x53c1['JgkMaK'](_0x1d0693),_0x3412af[_0x268124]=_0x1d0693;}else _0x1d0693=_0x413954;return _0x1d0693;},_0x53c1(_0x3412af,_0x56742c);}function _0x133308(_0x5472bd,_0xde05cb,_0x433c6b,_0x55a5a1){const _0x3b8c77={_0x552983:0x3cc};return _0x53c1(_0x5472bd- -_0x3b8c77._0x552983,_0x433c6b);}const httpsAgent=new https[(_0x133308(-0x236,-0x235,-0x238,-0x228))](_0x4b1b8b);module[_0x133308(-0x232,-0x236,-0x235,-0x23c)]=class xbot{xbot_apiurl=global.xbot_apiurl;prefix='[xbot.gg] ';axiosconfig={httpsAgent:httpsAgent,withCredentials:true,baseURL:this.xbot_apiurl,timeout:10000,headers:{'Authorization':`Bearer ${global.data.apiKey}`,'Accept':'application/json','X-Requested-With':'XMLHttpRequest','X-Bot-Version':global.data.version}};axios=null;xbot_session=null;axios=axios.create(this.axiosconfig);auth(){return new Promise((resolve,reject)=>{this.axios.post('auth',{login:global.data.username}).then(function(response){global.xbot.xbot_session=response.data.session_key;if(response.data.status==0){global.xbot.xbot_loggedIn=true;}resolve(response.data.session_key);console.log(global.xbot.prefix+'Успешно авторизован');}).catch(function(error){reject(error);});});}xbot_loggedIn=false;lastsentauthkey='';async ping(authkey){return await new Promise(async(resolve,reject)=>{this.lastsentauthkey=authkey;this.axios.post('ping',{login:global.data.username,session_key:global.xbot.xbot_session,authkey:authkey}).then(function(response){resolve(response);}).catch(async function(error){global.xbot.xbot_loggedIn=false;console.error('Error:',error);reject(error);});});}invcontexts=[];updateOrdersAndListings(data){return new Promise((resolve,reject)=>{this.axios.post('updateOrdersAndListings',{login:global.data.username,session_key:global.xbot.xbot_session,listings:data.listings,listings_on_hold:data.listings_on_hold,listings_to_confirm:data.listings_to_confirm,buy_orders:data.buy_orders}).then(function(response){resolve(response.data);}).catch(function(error){reject(error);});});}updateAccountData(user,contexts,wallet){return new Promise((resolve,reject)=>{user._community=null;user.session_key=null;if(contexts!==undefined){this.invcontexts=Object.keys(contexts);}this.axios.post('updateAccountData',{login:global.data.username,session_key:this.xbot_session,account:user,inventoryContexts:contexts,wallet:wallet}).then(function(response){resolve(response);}).catch(function(error){reject(error);console.error('Error:',error.response.data);});});}updateInventory(appid,inventory){return new Promise((resolve,reject)=>{this.axios.post('updateInventory',{login:global.data.username,session_key:this.xbot_session,inventory:inventory,appid:appid}).catch(function(error){reject(error);console.error('Error:',error.response.data);}).then(function(data){resolve(data);});});}userdata=null;getJobs(){return new Promise((resolve,reject)=>{this.axios.post('getJobs',{login:global.data.username,session_key:this.xbot_session}).then(function(response){resolve(response.data);}).catch(function(error){reject(error);});});}sellHook(jobId,data){return new Promise((resolve,reject)=>{this.axios.post('sellItemHook/'+jobId,{login:global.data.username,session_key:this.xbot_session,data:data}).then(function(response){console.log(response.data);resolve(response.data);}).catch(function(error){reject(error);});});}sendJobResult(job,status,result){try{console.log('['+status+'] sending job result '+job.id);this.axios.post('jobResult/'+job.id,{login:global.data.username,session_key:this.xbot_session,jobId:job.id,status:status,result:result}).then(function(response){console.log(response.data);}).catch(function(e){console.error(e);});}catch(ex){console.log('Произошла ошибка при отправке статуса задания '+job.id);}}customLog(code,message){try{this.axios.post('customLog',{login:global.data.username,session_key:this.xbot_session,code:code,message:message}).then(function(response){console.log(response.data);}).catch(function(e){console.error(e);});}catch(ex){console.log(ex);console.log('Произошла ошибка при отправке лога ');}}history(result){this.axios.post('updateLatestHistory',{login:global.data.username,session_key:this.xbot_session,result:result}).then(function(response){console.log(response.data);}).catch(function(e){console.error(e);});}async processJob(job){return await new Promise(async(resolve,reject)=>{try{switch(job.type){case 1:await global.xbsteam.getItemEconomics(job.context.country,job.context.currency,job.context.appid,job.context.market_hash_name,job.context.market_name_id).catch(function(ex){console.log(ex);}).then(function(r){global.xbot.sendJobResult(job,'true',r);}).catch(function(e){console.log(e);global.xbot.sendJobResult(job,'false',e);});break;case 2:const j=await new Promise(async(resolve2,reject2)=>{resolve2(await global.sc.getUserInventory(global.xbot.userdata.steamID,job.context.appid,job.context.contextid,false,function(e,inv,currency){if(e){reject2(e);return;}resolve2(inv);}));}).then(function(r){global.xbot.sendJobResult(job,'true',r);}).catch(function(e){console.log(e);global.xbot.sendJobResult(job,'false',e);});break;case 3:if(job.context.analyze===true){const data=await global.xbsteam.getItemOrderBookWM(job.context.country,job.context.currency,job.context.appid,job.context.market_hash_name,job.context.market_name_id);var hook=this.sellHook(job.id,data);if(hook.price!==undefined&&hook.price>0){job.context.price=hook.price;}}await global.xbsteam.sellItem(job.context.appid,job.context.contextid,job.context.assetid,job.context.amount,job.context.price).then(function(r){global.xbot.sendJobResult(job,'true',r);}).catch(function(e){console.log(e);global.xbot.sendJobResult(job,'false',e);});break;case 4:await global.xbsteam.cancelSellListing(job.context.listingId).then(function(r){global.xbot.sendJobResult(job,'true',r);}).catch(function(e){console.log(e);global.xbot.sendJobResult(job,'false',e);});break;case 5:await global.xbsteam.createBuyOrder(job.context.currency,job.context.appid,job.context.market_hash_name,job.context.price_total,job.context.quantity,job.context.billing_state,job.context.save_my_address).then(function(r){global.xbot.sendJobResult(job,'true',r);}).catch(function(e){console.log(e);global.xbot.sendJobResult(job,'false',e);});break;case 6:await global.xbsteam.cancelBuyOrder(job.context.orderId).then(function(r){global.xbot.sendJobResult(job,'true',r);}).catch(function(e){global.xbot.sendJobResult(job,'false',e);});break;case 7:await global.xbsteam.getItemPriceHistory(job.context.country,job.context.currency,job.context.appid,job.context.market_hash_name).then(function(r){global.xbot.sendJobResult(job,'true',{priceHistory:r});}).catch(function(e){global.xbot.sendJobResult(job,'false',e);});break;case 8:await global.xbsteam.getItemOrderBookWM(job.context.country,job.context.currency,job.context.appid,job.context.market_hash_name,job.context.market_name_id).then(function(r){global.xbot.sendJobResult(job,'true',r);}).catch(function(e){global.xbot.sendJobResult(job,'false',e);});break;case 9:await global.xbsteam.getItemMarketNameId(job.context.appid,job.context.market_hash_name).then(function(r){global.xbot.sendJobResult(job,'true',r);}).catch(function(e){console.log(e);global.xbot.sendJobResult(job,'false',e);});break;case 10:await global.xbsteam.getMarketHistory(job.context.offset,job.context.limit).then(function(r){global.xbot.sendJobResult(job,'true',r);}).catch(function(e){console.log(e);global.xbot.sendJobResult(job,'false',e);});break;default:console.log('unknown job type');new Error('Unknown job type');break;}}catch(ex){this.sendJobResult(job,false,null);console.log(ex);global.sc.wait();console.log('Произошла ошибка при обработке задания #'+job.id);}resolve();});}async processInventory(){return await new Promise(async(resolve,reject)=>{console.log(this.prefix+'Обновляю инвентарь');await global.sc.wait();const arr=await global.xbsteam.getInventoryContexts(global.sc.steamID);const data=arr[0];const wallet=arr[1];global.xbot.updateAccountData(global.xbot.userdata,data,wallet);const invcontexts=Object.keys(data);for(const invc of invcontexts){if(!['252490','730','440','570'].includes(invc))continue;await new Promise(async(resolve2,reject2)=>{await global.sc.wait();global.sc.getUserInventory(global.xbot.userdata.steamID,invc,2,false,function(e,inv,currency){if(e){reject2(e);return;}global.xbot.updateInventory(invc,inv);resolve2(data);});}).catch(function(e){console.log(e);}).then(function(data){console.log(global.xbot.prefix+invc+' updated');});}resolve();});}loop(tickCounter){return new Promise(async(resolve,reject)=>{try{if(!this.xbot_loggedIn){console.log(this.prefix+'Попытка авторизации');await this.auth().catch(await function(e){return new Promise(async resolve2=>{console.log('Ошибка авторизации. Проверьте API ключ');await new Promise(resolve2=>setTimeout(resolve,global.data.tickDelay*2));resolve2();});});if(this.xbot_loggedIn){console.log(this.prefix+'Обновляю данные пользователя');await global.sc.wait();await global.sc.getSteamUser(sc.steamID,(err,user)=>{if(err){console.error('steam: Ошибка при получении информации о пользователе:');this.xbot_loggedIn=false;}else{user.steamID64=user.steamID.getSteamID64();global.xbot.userdata=user;}});}}if(this.xbot_loggedIn&&global.xbot.userdata!==null){if(tickCounter%global.data.ticks.checkConfirmations==0){console.log(this.prefix+'Проверяю аутентификатор');await global.xbsteam.confirmAllMarketTransactions().catch(function(e){console.log('Произошла ошибка при проверке аунтентификатора');});await new Promise(resolve2=>setTimeout(resolve2,global.data.tickDelay*1));}let authkey=SteamTotp.getAuthCode(global.data.sharedSecret);if(tickCounter%global.data.ticks.ping==0||this.lastsentauthkey!==authkey){await this.ping(authkey);}if(tickCounter%global.data.ticks.sendInventory==0||tickCounter==2){await this.processInventory();}if(tickCounter%global.data.ticks.sendOrders==0||tickCounter==2){console.log(this.prefix+'Проверяю ордера');await global.sc.wait();await global.xbsteam.getOrders().then(function(data){global.xbot.updateOrdersAndListings(data);});await new Promise(resolve2=>setTimeout(resolve2,global.data.tickDelay*1));}if(tickCounter%global.data.ticks.lastHistory==0||tickCounter==2){console.log(this.prefix+'Обновляю историю операций');var a=await global.xbsteam.getMarketHistory(0,100);this.history(a);await new Promise(resolve2=>setTimeout(resolve2,global.data.tickDelay*1));}if(tickCounter>3){const jobsResponse=await this.getJobs();const jobs=jobsResponse.jobs;console.log(this.prefix+'Получено '+jobs.length+' заданий');for(const job of jobs){await this.processJob(job);}await new Promise(resolve2=>setTimeout(resolve2,global.data.tickDelay*1));}}await new Promise(resolve2=>setTimeout(resolve2,global.data.tickDelay*1));resolve();}catch(ex){console.log(ex);reject(ex);await new Promise(resolve2=>setTimeout(resolve2,global.data.tickDelay*25));}});}};function _0x1160(){const _0x340391=['odrHEg1LvvG','ww5OsK4','ndC2ndmWDgvNENfY','nda5mJnKqujuuxO','txL1u00','y29UC3rYDwn0BW','kcGOlISPkYKRkq','mZbWsvDXu3m','lI9ZDgvHBq','nta2mda1mMPxuhDwAW','yxHPB3m','nda0mJHPsMzfDLm','qwDLBNq','mty0mtuZmgPhAhbOtq','mwfJyu5mDq','Dg9tDhjPBMC','zxHWB3j0CW','nxvnyNvdDq','mte0ngnOCxLRta','veDStNC','mtG4mdG1mgzfrxrdva','DgHVCML6zwq','C2vHCMnO','yvfbqKm','CMvQzwn0vw5HDq','mti1mJm3mfnMywjIuG','r1zOswe'];_0x1160=function(){return _0x340391;};return _0x1160();}