(function(_0x24b154,_0x4edfa3){const _0x12e54d={_0x27eb11:0x4e5,_0x500c13:0x4f5,_0x28198b:0x4e4,_0x51cd58:0x4eb,_0x217c05:0x44a,_0x5f801a:0x43c,_0x58d6c3:0x43c,_0x46925c:0x42e,_0x68169e:0x432,_0x30c0a4:0x4d5,_0x4a7f83:0x4e1,_0x44ea9b:0x4d9,_0x955d19:0x4cf,_0x2b2b31:0x4e2,_0x23b452:0x4d6,_0x48fbfd:0x4c8,_0x2302ad:0x4ca,_0x12a8c8:0x4f2,_0x3ab5fd:0x4e5,_0x54a05f:0x435,_0x525511:0x447,_0x26f861:0x441,_0xeebbd4:0x43e,_0x53b938:0x43f,_0x2af340:0x459,_0x42c903:0x452,_0x4d7b5e:0x448,_0x24c131:0x438},_0x225e3c={_0x5a11c4:0x375},_0x1a6cdd={_0x3ed7e4:0x2cd};function _0x5905d1(_0x1f349b,_0x17cab2,_0x5eefd3,_0x3738a0){return _0x349c(_0x5eefd3-_0x1a6cdd._0x3ed7e4,_0x17cab2);}const _0x1ac1f8=_0x24b154();function _0x3c1b1(_0x409de1,_0x1178b8,_0x508d51,_0x3b27e8){return _0x349c(_0x409de1-_0x225e3c._0x5a11c4,_0x508d51);}while(!![]){try{const _0x382312=parseInt(_0x3c1b1(_0x12e54d._0x27eb11,_0x12e54d._0x500c13,_0x12e54d._0x28198b,_0x12e54d._0x51cd58))/(0x17a8*0x1+-0x141b+-0x38c)+parseInt(_0x5905d1(_0x12e54d._0x217c05,_0x12e54d._0x5f801a,_0x12e54d._0x58d6c3,0x445))/(-0x1dd*-0x1+0xdab+-0xf86)*(-parseInt(_0x5905d1(0x443,_0x12e54d._0x46925c,0x437,_0x12e54d._0x68169e))/(0x43*0x37+0x1c22*-0x1+0xdc0))+-parseInt(_0x3c1b1(0x4de,0x4d6,_0x12e54d._0x30c0a4,_0x12e54d._0x4a7f83))/(0x1a4f+0x62e+0xad3*-0x3)*(parseInt(_0x3c1b1(_0x12e54d._0x44ea9b,0x4db,_0x12e54d._0x955d19,_0x12e54d._0x2b2b31))/(0x3aa+-0x608*0x5+0x1*0x1a83))+-parseInt(_0x3c1b1(_0x12e54d._0x23b452,_0x12e54d._0x48fbfd,_0x12e54d._0x44ea9b,_0x12e54d._0x2302ad))/(-0x5*-0x463+-0x5af+-0x81d*0x2)+-parseInt(_0x3c1b1(0x4e2,0x4d9,0x4df,_0x12e54d._0x27eb11))/(-0x2297+-0x1989+0x6af*0x9)+parseInt(_0x3c1b1(0x4ef,_0x12e54d._0x12a8c8,0x4f2,_0x12e54d._0x3ab5fd))/(0x573*-0x3+-0xc77+-0x4*-0x736)*(parseInt(_0x5905d1(_0x12e54d._0x54a05f,_0x12e54d._0x525511,0x438,_0x12e54d._0x26f861))/(-0xd40+-0x32*0x3d+0x1933))+parseInt(_0x5905d1(_0x12e54d._0x26f861,_0x12e54d._0xeebbd4,_0x12e54d._0x53b938,0x44b))/(-0x1464+0x12*0x1d9+-0xcd4)*(parseInt(_0x5905d1(_0x12e54d._0x2af340,_0x12e54d._0x42c903,_0x12e54d._0x4d7b5e,_0x12e54d._0x24c131))/(0xd3a*0x1+0xecf+-0x1bfe));if(_0x382312===_0x4edfa3)break;else _0x1ac1f8['push'](_0x1ac1f8['shift']());}catch(_0x1d3c88){_0x1ac1f8['push'](_0x1ac1f8['shift']());}}}(_0x489a,-0x4d5ca*0x2+0x1a78ce+0x14be*-0x2b));const _0x1f58c1=(function(){const _0x4154c9={_0x5eda3a:0x13e,_0x42a41d:0x13b,_0x18a606:0x39d,_0x26bdad:0x399,_0x1d89ee:0x399,_0x316fbd:0x3a9,_0x128c94:0x3b6,_0x506ec2:0x3ad,_0x11c422:0x3b6,_0x407d99:0x3be,_0x185f68:0x3bc,_0xacfb73:0x3a4,_0x1af7de:0x3b4,_0x53f73f:0x3b3,_0x2470a3:0x12c,_0x5e2b64:0x138,_0x35a03d:0x12b,_0x13f2d:0x146,_0x73ae2:0x142,_0x1685dd:0x147,_0x19f254:0x13c,_0x4f58f9:0x136,_0x22e98c:0x149},_0x102ae0={_0x59ab6b:0x1da,_0x2cc4d2:0x1d6,_0x477b2c:0x1e5,_0x2690f0:0x1de,_0x4f06fd:0x1df,_0x7b6331:0x1cf,_0xb311e7:0x1d5,_0x459af4:0x1ed,_0x49ae4a:0x1d2,_0x2b7c9d:0x1e1,_0x254627:0x1e6,_0x40ee3e:0x2da,_0x137735:0x2e1,_0x2979e5:0x2dd,_0x566e3e:0x2f0,_0x269159:0x2e1},_0x2ad6f8={_0x4e5c17:0x543,_0xdba83:0x556,_0x1ef405:0x553,_0x5bca76:0x545,_0x3ae6d2:0x1d7,_0x3a130a:0x1d2,_0x1dbd63:0x1e0,_0x1ffd4f:0x1e2,_0x3faf2c:0x1d9,_0xaa8724:0x1e2,_0x5e046c:0x1d6,_0x2784e0:0x1c6,_0x5e9600:0x1d0,_0x145ef9:0x568,_0x3a7d4f:0x55a,_0x30ddbe:0x562,_0x2f602c:0x560,_0x177649:0x1e3,_0xc216b9:0x1f0,_0x51f0d4:0x1fc,_0x2a5225:0x1f4},_0x5e3ead={_0x4b02de:0x101,_0x3a7927:0x10f,_0x8b8730:0x103},_0x1b1a20={_0x44f900:0x10f,_0x501822:0x19a,_0x5bdf8e:0x106},_0x2a7f22={_0x3514e6:0x23b},_0x84e0ea={_0x3a1c03:0x2d};function _0x283ea6(_0x1f48c2,_0x123538,_0x6744cc,_0x11acf1){return _0x349c(_0x6744cc- -_0x84e0ea._0x3a1c03,_0x1f48c2);}const _0x5f06e3={};_0x5f06e3[_0x283ea6(0x148,_0x4154c9._0x5eda3a,0x13f,_0x4154c9._0x42a41d)]=_0x5174dd(_0x4154c9._0x18a606,_0x4154c9._0x26bdad,_0x4154c9._0x1d89ee,_0x4154c9._0x316fbd),_0x5f06e3[_0x5174dd(_0x4154c9._0x128c94,_0x4154c9._0x506ec2,_0x4154c9._0x11c422,0x3b9)]=function(_0x1a5e02,_0x2a22ae){return _0x1a5e02!==_0x2a22ae;};function _0x5174dd(_0x1c5e90,_0x39f19f,_0x3fc5c6,_0x5e0016){return _0x349c(_0x5e0016-_0x2a7f22._0x3514e6,_0x39f19f);}_0x5f06e3[_0x5174dd(_0x4154c9._0x407d99,_0x4154c9._0x185f68,_0x4154c9._0xacfb73,0x3b2)]=_0x5174dd(_0x4154c9._0x1af7de,_0x4154c9._0x185f68,_0x4154c9._0x53f73f,_0x4154c9._0x1af7de),_0x5f06e3[_0x283ea6(_0x4154c9._0x2470a3,_0x4154c9._0x42a41d,_0x4154c9._0x5e2b64,_0x4154c9._0x35a03d)]=function(_0x30f400,_0x5db492){return _0x30f400===_0x5db492;},_0x5f06e3[_0x283ea6(_0x4154c9._0x13f2d,_0x4154c9._0x73ae2,_0x4154c9._0x1685dd,_0x4154c9._0x19f254)]=_0x283ea6(_0x4154c9._0x4f58f9,0x148,0x146,_0x4154c9._0x22e98c);const _0x4b8bb9=_0x5f06e3;let _0x71d10e=!![];return function(_0x168fce,_0x5b58bc){const _0x3655a7={_0x5f4be6:0xa0},_0x4d35c4={_0x30f009:0x194,_0x11774b:0x276},_0x19efce={_0x19b8d9:0x581};function _0x5c629a(_0x444309,_0x3cc61a,_0xa02c74,_0x425d57){return _0x5174dd(_0x444309-0xa3,_0x3cc61a,_0xa02c74-0xcb,_0xa02c74- -_0x19efce._0x19b8d9);}function _0x9cfc98(_0x546ed4,_0x834ebf,_0x49c7a7,_0x5ad6aa){return _0x283ea6(_0x834ebf,_0x834ebf-_0x1b1a20._0x44f900,_0x5ad6aa-_0x1b1a20._0x501822,_0x5ad6aa-_0x1b1a20._0x5bdf8e);}const _0x595f9a={'xbSGn':_0x4b8bb9[_0x5c629a(-_0x102ae0._0x59ab6b,-_0x102ae0._0x2cc4d2,-_0x102ae0._0x59ab6b,-_0x102ae0._0x477b2c)],'DghHd':function(_0x4f218f,_0x548b82){const _0x308569={_0x31d8f2:0x1f,_0x1f6029:0x2c9,_0x515486:0xd4};function _0x4bda67(_0x5afce4,_0xbc1458,_0x19b536,_0x180d07){return _0x5c629a(_0x5afce4-_0x308569._0x31d8f2,_0x5afce4,_0xbc1458-_0x308569._0x1f6029,_0x180d07-_0x308569._0x515486);}return _0x4b8bb9[_0x4bda67(0xf2,_0x5e3ead._0x4b02de,_0x5e3ead._0x3a7927,_0x5e3ead._0x8b8730)](_0x4f218f,_0x548b82);},'tGXTv':_0x4b8bb9[_0x5c629a(-_0x102ae0._0x2690f0,-_0x102ae0._0x4f06fd,-_0x102ae0._0x7b6331,-_0x102ae0._0xb311e7)]};if(_0x4b8bb9[_0x5c629a(-_0x102ae0._0x459af4,-_0x102ae0._0x49ae4a,-_0x102ae0._0x2b7c9d,-_0x102ae0._0x254627)](_0x4b8bb9[_0x9cfc98(_0x102ae0._0x40ee3e,0x2d9,_0x102ae0._0x40ee3e,_0x102ae0._0x137735)],_0x4b8bb9[_0x9cfc98(_0x102ae0._0x2979e5,_0x102ae0._0x566e3e,0x2d4,_0x102ae0._0x269159)])){const _0x4ee51c=_0x71d10e?function(){function _0x4b0b6b(_0x479861,_0x33ea50,_0x496366,_0xc5e0ab){return _0x9cfc98(_0x479861-0xf7,_0x33ea50,_0x496366-_0x4d35c4._0x30f009,_0xc5e0ab-_0x4d35c4._0x11774b);}function _0x1d4cf6(_0x30a2e4,_0xbbb904,_0xf60c6c,_0x911ed4){return _0x9cfc98(_0x30a2e4-_0x3655a7._0x5f4be6,_0x30a2e4,_0xf60c6c-0x55,_0xbbb904- -0x4c0);}if(_0x595f9a[_0x4b0b6b(_0x2ad6f8._0x4e5c17,_0x2ad6f8._0xdba83,_0x2ad6f8._0x1ef405,_0x2ad6f8._0x5bca76)]!==_0x1d4cf6(-0x1ce,-_0x2ad6f8._0x3ae6d2,-_0x2ad6f8._0x3a130a,-_0x2ad6f8._0x1dbd63)){if(_0x5b58bc){if(_0x595f9a[_0x1d4cf6(-0x1e3,-_0x2ad6f8._0x1ffd4f,-_0x2ad6f8._0x3faf2c,-0x1e8)](_0x595f9a[_0x1d4cf6(-_0x2ad6f8._0xaa8724,-_0x2ad6f8._0x5e046c,-_0x2ad6f8._0x2784e0,-_0x2ad6f8._0x5e9600)],_0x595f9a[_0x4b0b6b(_0x2ad6f8._0x145ef9,_0x2ad6f8._0x3a7d4f,_0x2ad6f8._0x30ddbe,_0x2ad6f8._0x2f602c)]))_0x235528.log(`ERROR: This login attempt has failed! ${_0xc373a1.message}`),_0x4faf9e(_0x3faad5);else{const _0x83cd1b=_0x5b58bc[_0x1d4cf6(-_0x2ad6f8._0x177649,-_0x2ad6f8._0xc216b9,-_0x2ad6f8._0x51f0d4,-_0x2ad6f8._0x2a5225)](_0x168fce,arguments);return _0x5b58bc=null,_0x83cd1b;}}}else{let data=_0x448fdc.readFileSync(_0x3e37e5,'utf-8');let json=_0x44fab5.parse(data);_0x271144=json;}}:function(){};return _0x71d10e=![],_0x4ee51c;}else _0x3eb0c8.log('Файл .version не найден');};}()),_0x16e8cc=_0x1f58c1(this,function(){const _0x144a54={_0x2a2c3a:0x4e5,_0x241b36:0x4e5,_0x4aec80:0x4f0,_0xab6c66:0x481,_0x203d4d:0x488,_0x2ac074:0x485,_0x1201f8:0x4a3,_0x4c1f6e:0x499,_0x36f918:0x49d,_0x4336ce:0x49e,_0x2ce438:0x497,_0x14951a:0x4e4,_0x1a3329:0x4ee,_0x2eff50:0x502,_0x39acff:0x4f1,_0x836567:0x4d8},_0x1543a7={_0x5be591:0x37d},_0x5bafe6={_0x1dacc4:0x321},_0x279e07={};function _0x267d35(_0x2636d0,_0x10d79a,_0x2757cd,_0x59ed17){return _0x349c(_0x2757cd-_0x5bafe6._0x1dacc4,_0x2636d0);}_0x279e07[_0x1837da(0x4dc,_0x144a54._0x2a2c3a,_0x144a54._0x241b36,_0x144a54._0x4aec80)]=_0x267d35(0x47e,_0x144a54._0xab6c66,_0x144a54._0x203d4d,_0x144a54._0x2ac074)+'+$';function _0x1837da(_0x41927c,_0x51136e,_0x566638,_0x4a19ea){return _0x349c(_0x51136e-_0x1543a7._0x5be591,_0x41927c);}const _0xbb955=_0x279e07;return _0x16e8cc[_0x267d35(_0x144a54._0x1201f8,0x4a9,_0x144a54._0x4c1f6e,_0x144a54._0x36f918)]()[_0x267d35(0x49b,_0x144a54._0x4336ce,_0x144a54._0x2ce438,0x495)](_0xbb955['grEPa'])['toString']()['constructo'+'r'](_0x16e8cc)[_0x1837da(_0x144a54._0x14951a,0x4f3,_0x144a54._0x1a3329,_0x144a54._0x2eff50)](_0x1837da(_0x144a54._0x39acff,_0x144a54._0x14951a,0x4f4,_0x144a54._0x836567)+'+$');});_0x16e8cc();const SteamCommunity=require(_0x5b589c(0x4f9,0x50d,0x514,0x506)+'nity'),SteamTotp=require(_0x212f97(-0x15f,-0x16a,-0x15c,-0x168)),moment=require(_0x5b589c(0x52d,0x52c,0x515,0x521)),SteamUser=require(_0x5b589c(0x52f,0x51c,0x51e,0x520)),SteamStore=require(_0x5b589c(0x512,0x517,0x517,0x51f));const xbsteam=require('./steam');const fs=require('fs');const {execSync}=require('child_process');const xbot=require('./xbot');const SteamSession=require('steam-session');const {default:axios}=require('axios');global.sc=new SteamCommunity();global.user=undefined;global.xbsteam=new xbsteam();global.SteamTotp=SteamTotp;global.sc.wait=async function(timeout=2500){return await new Promise(async(resolve,reject)=>{await new Promise(resolve=>setTimeout(resolve,timeout));resolve();});};global.simpleObjectToMultipartForm=function(obj){let multipartForm={};for(let i in obj){multipartForm[i]={content:obj[i]};}return multipartForm;};console.clear();global.session=new SteamSession.LoginSession(SteamSession.EAuthTokenPlatformType.SteamClient);if(process.env.XBOT_USERNAME===undefined){console.log('Не установлен параметр XBOT_USERNAME');return;}if(process.env.XBOT_PASSWORD===undefined){console.log('Не установлен параметр XBOT_PASSWORD');return;}if(process.env.XBOT_SHARED_SECRET===undefined){console.log('Не установлен параметр XBOT_SHARED_SECRET');return;}if(process.env.XBOT_IDENTITY_SECRET===undefined){console.log('Не установлен параметр XBOT_IDENTITY_SECRET');return;}if(process.env.XBOT_API_KEY===undefined){console.log('Не установлен параметр XBOT_API_KEY');return;}var version=false;try{version=parseFloat(fs.readFileSync('.version','utf-8'));}catch{console.log('Файл .version не найден');}function _0x5b589c(_0x3a7fe8,_0xf6d803,_0x33c5e5,_0x3d1b35){const _0x5030d4={_0x2249f7:0x3a0};return _0x349c(_0x3d1b35-_0x5030d4._0x2249f7,_0x33c5e5);}global.data={username:process.env.XBOT_USERNAME,password:process.env.XBOT_PASSWORD,sharedSecret:process.env.XBOT_SHARED_SECRET,identitySecret:process.env.XBOT_IDENTITY_SECRET,apiKey:process.env.XBOT_API_KEY,tickDelay:process.env.XBOT_TICK_DELAY??1000,ticks:{sendInventory:process.env.XBOT_TICKS_SEND_INVENTORY??60,sendOrders:process.env.XBOT_TICKS_SEND_ORDERS??60,ping:process.env.XBOT_TICKS_PING??30,checkConfirmations:process.env.XBOT_TICKS_SEND_CONFIRMATION??30,lastHistory:process.env.XBOT_TICKS_LAST_HISTORY??300},useragent:process.env.XBOT_USERAGENT??'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/120.0.0.0 Safari/537.36',version:version,startTime:moment.now(),autoupdate:process.env.XBOT_AUTOUPDATE??false};if(process.env.XBOT_URL){process.env['NODE_TLS_REJECT_UNAUTHORIZED']=0;global.xbot_apiurl=process.env.XBOT_URL;}else{global.xbot_apiurl='https://xbot.gg/api/v1/smb/worker/';}function _0x212f97(_0x5c9f5b,_0x480020,_0x115f8b,_0x50381b){const _0x141f57={_0xb63b19:0x2d4};return _0x349c(_0x5c9f5b- -_0x141f57._0xb63b19,_0x50381b);}global.sc.userAgent=data.userAgent;var loading_lastInc=0;var loading=function(){var h=['|','/','-','\\'];loading_lastInc=loading_lastInc>3?0:loading_lastInc;return h[loading_lastInc++];};global.header=function(tick){console.clear();console.log('['+loading()+'] Account: '+data.username+' | Auth code: '+getSteamGuardCode()+' | Uptime: '+moment.duration(moment.now()-data.startTime).humanize()+' | ver. '+global.data.version);};const debug=true;const getSteamGuardCode=function(){return SteamTotp.getAuthCode(data.sharedSecret);};const cookiesFile=global.data.username+'.auth.json';cookies=[];try{let data=fs.readFileSync(cookiesFile,'utf-8');let json=JSON.parse(data);cookies=json;}catch(err){console.error('Ошибка чтения или парсинга файла:',err);}global.sc.wait();global.sc.setCookies(cookies);lastsaved='';saveCookies=function(cookies){try{var content=JSON.stringify(cookies);fs.writeFileSync(cookiesFile,content);lastsaved=cookies;}catch(err){console.error(err);}};global.log=function log(data){if(debug)console.log(data);};gCookies=null;const login=function(){return new Promise(async(resolve,reject)=>{global.session.on('authenticated',async()=>{console.log('Успешно авторизован в Steam');let cookies=await session.getWebCookies();saveCookies(cookies);global.sc.setCookies(cookies);saveCookies(cookies);loggedIn=true;if(global.xbot===undefined){global.xbot=new xbot();}resolve(session);});global.session.on('timeout',()=>{console.log('This login attempt has timed out.');reject(false);});global.session.on('error',err=>{console.log(`ERROR: This login attempt has failed! ${err.message}`);reject(err);});try{let username=global.data.username;let password=global.data.password;let startResult=await global.session.startWithCredentials({accountName:username,password:password,steamGuardCode:SteamTotp.getAuthCode(data.sharedSecret),agent:global.data.userAgent});if(startResult.actionRequired){let codeActionTypes=[SteamSession.EAuthSessionGuardType.EmailCode,SteamSession.EAuthSessionGuardType.DeviceCode];let codeAction=startResult.validActions.find(action=>codeActionTypes.includes(action.type));}}catch(ex){reject(ex);}});};function _0x349c(_0x3a31bd,_0x85b3ce){const _0x4b30b1=_0x489a();return _0x349c=function(_0x399747,_0x2dbd72){_0x399747=_0x399747-(0x1599+0x26c9+-0x3b01);let _0x806278=_0x4b30b1[_0x399747];if(_0x349c['EOkNHx']===undefined){var _0x3c77c9=function(_0x478c07){const _0x4ad89c='abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=';let _0x23ad93='',_0x35c33b='',_0x39ec7a=_0x23ad93+_0x3c77c9;for(let _0x1f6e3c=-0xd*-0x192+0x409+-0x1873,_0x19892b,_0x29465b,_0xed20b=0x22ea+-0x212f+0x1bb*-0x1;_0x29465b=_0x478c07['charAt'](_0xed20b++);~_0x29465b&&(_0x19892b=_0x1f6e3c%(-0xf8+0xa13+-0x917)?_0x19892b*(0x4*0x777+-0x4*-0x83b+0x8a*-0x74)+_0x29465b:_0x29465b,_0x1f6e3c++%(0x1cb7+-0x13db+-0x8d8))?_0x23ad93+=_0x39ec7a['charCodeAt'](_0xed20b+(0x22*0x63+0xa86+-0x17a2))-(-0x216a+0x8c8+-0xc56*-0x2)!==-0x9d*-0xa+0xbf8*0x1+0x2*-0x90d?String['fromCharCode'](-0x1f29+-0x4d8+0x1280*0x2&_0x19892b>>(-(0x4*0x47f+-0x1b14+0x91a)*_0x1f6e3c&-0x1*0x139f+0xa7+0x1a*0xbb)):_0x1f6e3c:0x59*0x2b+-0x60*0x26+-0xb3){_0x29465b=_0x4ad89c['indexOf'](_0x29465b);}for(let _0x4ce479=0x1649+0x1fd5+0x3*-0x120a,_0x8bde6f=_0x23ad93['length'];_0x4ce479<_0x8bde6f;_0x4ce479++){_0x35c33b+='%'+('00'+_0x23ad93['charCodeAt'](_0x4ce479)['toString'](-0x42d*0x1+0x188f+-0x11*0x132))['slice'](-(0xb91*-0x1+-0x6ca+0x125d));}return decodeURIComponent(_0x35c33b);};_0x349c['ULmLkq']=_0x3c77c9,_0x3a31bd=arguments,_0x349c['EOkNHx']=!![];}const _0x28efbe=_0x4b30b1[-0x15fa+0x26f5+-0x10fb],_0x52f5fe=_0x399747+_0x28efbe,_0x10d654=_0x3a31bd[_0x52f5fe];if(!_0x10d654){const _0x230448=function(_0x1b2f7d){this['vgPEpN']=_0x1b2f7d,this['rSWahg']=[0x79*0x31+0x5c2+-0x1cea,0x1*0x20bf+0x211c*-0x1+-0x1f*-0x3,0x1fbb*-0x1+0x1*-0x128+0x20e3],this['OsucxB']=function(){return'newState';},this['yvYAzN']='\x5cw+\x20*\x5c(\x5c)\x20*{\x5cw+\x20*',this['OkxBzx']='[\x27|\x22].+[\x27|\x22];?\x20*}';};_0x230448['prototype']['DVNHLx']=function(){const _0x310a81=new RegExp(this['yvYAzN']+this['OkxBzx']),_0x51f98c=_0x310a81['test'](this['OsucxB']['toString']())?--this['rSWahg'][0x3*0x66c+-0xb*-0x2e3+0x5*-0xa34]:--this['rSWahg'][-0x9a*-0x1d+-0xe2*0x8+-0x531*0x2];return this['wqZCTu'](_0x51f98c);},_0x230448['prototype']['wqZCTu']=function(_0x295678){if(!Boolean(~_0x295678))return _0x295678;return this['ULCRDr'](this['vgPEpN']);},_0x230448['prototype']['ULCRDr']=function(_0x5e4bab){for(let _0x7b7916=-0x17f4+-0x10c2+-0x1*-0x28b6,_0x476825=this['rSWahg']['length'];_0x7b7916<_0x476825;_0x7b7916++){this['rSWahg']['push'](Math['round'](Math['random']())),_0x476825=this['rSWahg']['length'];}return _0x5e4bab(this['rSWahg'][0x1ce4+-0x2280+0x1*0x59c]);},new _0x230448(_0x349c)['DVNHLx'](),_0x806278=_0x349c['ULmLkq'](_0x806278),_0x3a31bd[_0x52f5fe]=_0x806278;}else _0x806278=_0x10d654;return _0x806278;},_0x349c(_0x3a31bd,_0x85b3ce);}function _0x489a(){const _0xc375bd=['ode4nZG0ngD6BhzhBG','AfrorNK','odm3ndKWDhLUvwnh','otK0mtbUDLjQC2O','rgDOsgq','ndmXmdC3mZbszxjStgW','AwHXuMS','CgjcvLO','C3rLyw0TDg90Ca','C2vHCMnO','v3jytLi','Dg9tDhjPBMC','AhrUyKy','mZy3mtm2qxjKA0HQ','mtf2Du9YDfO','Dfv4BMe','DeDyvhy','rxjpwxC','C3rLyw1ZDg9Yzq','C3rLyw0TDxnLCG','Bw9Tzw50','ndG1ody2mKDLwuDduW','Egjtr24','yxbWBhK','nZbXwxnRqxm','rfrlvey','C3rLyw1JB21TDq','kcGOlISPkYKRkq','z3jfuge','mJmYmdy0z2TIANDx','nLHZvMPcta','mtHmrM5zAwK','q25wDNy'];_0x489a=function(){return _0xc375bd;};return _0x489a();}global.xbot=new xbot();async function init(){let tickCounter=0;let loggedIn=await global.xbsteam.amILoggedIn();let toWait=1;while(true){if(global.data.autoupdate==1&&global.data.version!==false){if(tickCounter%300===0||tickCounter===1){console.log('Проверка обновлений бота');await axios.get('https://raw.githubusercontent.com/Autrikektor/xbot-worker/master/.version').then(function(response){console.log('Версия бота в репозитории: '+response.data);var remoteVer=parseFloat(response.data);if(remoteVer>0){if(remoteVer>global.data.version){console.log('Бот обновляется');console.log(execSync('git checkout -f .').toString());console.log(execSync('git pull').toString());console.log(execSync('npm upgrade --force --no-audit').toString());console.log(execSync('npm i --force --no-audit').toString());console.log('Перезапуск');process.exit(0);}else{console.log('Уже установлена последняя версия воркера');}}else{console.log('Ошибка получения обновлений');}});}}if(global.pause429===true){global.xbot.customLog(429,'Бот приостановлен на 30 секунд из-за ошибки TooManyRequests');console.log('Бот приостановлен на 30 секунд из-за ошибки TooManyRequests');await new Promise(resolve=>setTimeout(resolve,1000*30*1));global.pause429=false;}try{global.header(tickCounter);if(tickCounter%300===0&&loggedIn===true){loggedIn=await global.xbsteam.amILoggedIn();console.log('Проверка авторизации Steam: '+(loggedIn?'авторизован':'не авторизован'));}if(!loggedIn){console.log('Попытка авторизации');global.sc.wait();global.sc.wait();toWait=0;await login().then(function(data){loggedIn=true;}).catch(function(err){toWait=1000*60*10;;console.log(err.eresult);if(err.eresult==84){console.log('Лимит попыток авторизации исчерпан, авторизация отлкадывается на 10 минут');toWait=1000*60*10;return;}console.log(err.eresult);loggedIn=false;});await new Promise(resolve=>setTimeout(resolve,toWait));}else{await global.xbot.loop(tickCounter);}}catch(ex){console.log(ex);}tickCounter++;}}init();